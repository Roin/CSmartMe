<html>
<head>
<script type="text/javascript"
 src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js">
</script>
</head>
<body>
   <p> Test </p>
   <button onClick="stopFunction()">Stop the execution</button>
   
 <script type="text/javascript">
 var myVar = setInterval(Test(), 5000);
 function Test() {
   var data = "Test";
   var request = $.ajax( {
     url: "/stuff",
     type: "post",
     data: data
   });
   request.done(function(response, textStatus, jqHXR) {
     console.log("Hooray it worked");
   });
   request.fail(function (jqXHR, textStatus, errorThrown){
        // log the error to the console
        console.error(
            "The following error occured: "+
            textStatus, errorThrown
        );
    });
  }

  function StopFunction()
  {
    clearInterval(myVar);
  }
 
 
</script>

</body>
</html>
